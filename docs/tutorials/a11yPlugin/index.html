<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">A11y 无障碍插件 | Eva.js</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://eva.js.org/docs/tutorials/a11yPlugin"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="A11y 无障碍插件 | Eva.js"><meta data-react-helmet="true" name="description" content="Demo"><meta data-react-helmet="true" property="og:description" content="Demo"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://eva.js.org/docs/tutorials/a11yPlugin"><link data-react-helmet="true" rel="alternate" href="https://eva.js.org/docs/tutorials/a11yPlugin" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://eva.js.org/docs/tutorials/a11yPlugin" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.3660d90a.css">
<link rel="preload" href="/assets/js/runtime~main.c3d05a5e.js" as="script">
<link rel="preload" href="/assets/js/main.0c2761a9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Eva.js</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/tutorials/quickstart">Tutorial</a><a class="navbar__item navbar__link" href="/docs/api/index">API</a><a href="https://eva.js.org/playground" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Demos<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://www.yuque.com/eva/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/eva-engine/eva.js/issues/140" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Q&amp;A<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/eva-engine/eva.js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">English</a><ul class="dropdown__menu"><li><a href="https://eva.js.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>English<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://eva-engine.gitee.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>中文（中国）<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorials/quickstart">Quick start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/eva-engine/eva.js/issues/140" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Q&amp;A<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">Basic</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/resourceManagement">Resource Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/game">Game</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/gameObject">GameObject</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/transformComponent">Transform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/compressedTexture">compressedTexture</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">Graphics</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/prepareRender">Preparation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/imageComponent">Image</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/textComponent">Text</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/graphicsComponent">Graphics Graphics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/spriteComponent">Sprite</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/maskComponent">Mask</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/ninePatchComponent">NinePatch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tilingSpriteComponent">Tiled Wizard TilingSprite</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/orderAndTransparent">Order and Alpha</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">Animation</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/transitionAnimation">Transition animation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/spriteAnimation">Sprite animation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/spineAnimation">Spine skeletal animation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/dragonboneAnimation">Dragonbones 龙骨动画</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/lottieAnimation">Lottie Animation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/interactionEvent">Interactive event</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/customComponent">Custom component</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Plugin</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/sound">Sound</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/matterJS">MatterJS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorials/a11yPlugin">A11y 无障碍插件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/evaxPlugin">Data Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/performancePlugin">Performance monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/pluginDevelop">Plug-in development</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><h1 id="a11y-无障碍插件">A11y 无障碍插件</h1><h2 id="demo">Demo</h2><p>//TODO</p><h2 id="introduce">Introduce</h2><p>Eva.js accessibility plugin, used to add accessibility capabilities to game objects. The plugin automatically adds auxiliary DOM by locating the position of the game object, so that the game object can be focused, and the game has a11y.</p><h2 id="install">Install</h2><h3 id="with-npm">With NPM</h3><pre><code class="language-bash">tnpm install @eva/plugin-a11y
</code></pre><h3 id="in-browser">In Browser</h3><pre><code class="language-html">&lt;script src=&quot;https://unpkg.com/@eva/plugin-a11y@1.1.x/dist/EVA.plugin.a11y.min.js&quot;&gt;&lt;/script&gt;
</code></pre><h2 id="usage">Usage</h2><p>First add system, and then add a11y component to the game objects.</p><pre><code class="language-js">import { A11ySystem, A11y, A11yActivate } from &#x27;@eva/plugin-a11y&#x27;

game.addSystem(new A11ySystem({
  debug: true,
  activate: A11yActivate.CHECK,
  checkA11yOpen: () =&gt; {
    return new Promise(resolve =&gt; {
      resolve(true) // opened
      resolve(false) // closed
    })
  }
}))
// add a11y
gameObject.addComponent(new A11y({
  hint: &#x27;按钮&#x27;,
  role: &#x27;button&#x27;,
  &quot;aria-value&quot;: &quot;0&quot;
  &quot;aira-hidden&quot;: &quot;true&quot;
}))
</code></pre><p>The above code will automatically add an auxiliary DOM as shown in the following figure above the game object area:</p><p><img src="https://gw.alicdn.com/imgextra/i4/O1CN01I2uBms1Lvq6GBg6Bo_!!6000000001362-2-tps-2098-734.png" alt="image.png"></p><p>Working diagram</p><p><img src="https://gw.alicdn.com/imgextra/i2/O1CN01mn5ubF1fLSyEMNBw0_!!6000000003990-2-tps-3332-1700.png" alt="image.png"></p><pre><code class="language-js">gameObject.addComponent(new A11y({ hint: &#x27;text&#x27; }))
game.scene.removeChild(gameObject)

gameObject.removeComponent(&#x27;A11y&#x27;)
</code></pre><h2 id="api">API</h2><p><strong>1、A11ySystem</strong></p><p>游戏场景无障碍能力</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th><th>默认值</th></tr></thead><tbody><tr><td>debug</td><td>boolean</td><td>Whether to turn on debugging, a red mask will appear after turning on</td><td>false</td></tr><tr><td>activate</td><td>A11yActivate</td><td>Whether to activate accessibility, the default is to automatically activate according to the user&#x27;s system settings</td><td>CHECK</td></tr></tbody></table><p><strong>2、A11y</strong>
Accessibility components, game objects give accessibility capabilities</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th><th>默认值</th></tr></thead><tbody><tr><td>hint</td><td>string</td><td>What needs to be read</td><td>-</td></tr><tr><td>role</td><td>string</td><td>Accessibility roles, such as role=&quot;button&quot;</td><td>-</td></tr><tr><td>delay</td><td>number</td><td>Delay div inner time, in milliseconds</td><td>0</td></tr><tr><td>aria-<!-- -->*</td><td>string</td><td>Accessibility attributes</td><td></td></tr></tbody></table><p><strong>3、A11yActivate</strong></p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>CHECK</td><td>Check the accessibility according to the incoming method</td></tr><tr><td>ENABLE</td><td>Enable plugin accessibility</td></tr><tr><td>DISABLE</td><td>Disable plugin accessibility</td></tr></tbody></table><h2 id="tips">Tips</h2><p>Some points to note when using:</p><ul><li>Some draggable gameplay needs to be optimized according to the business</li><li>The auxiliary DOM node of the DragonBones animation is 1px</li><li>Click events will automatically trigger &#x27;touchstart/touchend/tip&#x27; events on the Event component</li></ul><h2 id="evajs-无障碍插件动画">Eva.js 无障碍插件动画</h2><p>For transition animations, the barrier-free DOM layer needs to wait until the animation ends to know the position of the game object.</p><p>eva-plugin-a11y chooses this to process the transition animation.</p><h3 id="option1">Option1</h3><p>Listen to the finish event of the animation, and add barrier-free capabilities to the game object after the animation is complete.</p><pre><code>animation.on(&#x27;finish&#x27;, name =&gt; {
  image.addComponent(new A11y({ hint: &#x27;What needs to be read&#x27; }))
});
</code></pre><p>If there are multiple animations, you only need to listen to the finish event of the last animation.</p><pre><code>// move animation
// idle animation
animation.on(&#x27;finish&#x27;, name =&gt; {
  name === &#x27;idle&#x27; &amp;&amp; image.addComponent(new A11y({ hint: &#x27;What needs to be read&#x27; }))
});
</code></pre><p>It is not recommended to use accessibility capabilities in Infinity&#x27;s mobile animations, such as such animations.</p><p>This type of animation is not accessible to users at all, and it is recommended to optimize it from the product level.</p><h3 id="option2">Option2</h3><p>The construction of the barrier-free component also provides a delay parameter, and the developer can choose to render the barrier-free DOM of the game object at any time.</p><pre><code>image.addComponent(new A11y({ hint: &#x27;What needs to be read&#x27;, delay: 1000})
</code></pre></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/eva-engine/eva-engine.github.io/tree/master/docs/tutorials/a11yPlugin.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/tutorials/matterJS"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->MatterJS</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/tutorials/evaxPlugin"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Data Management<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#demo" class="table-of-contents__link toc-highlight">Demo</a></li><li><a href="#introduce" class="table-of-contents__link toc-highlight">Introduce</a></li><li><a href="#install" class="table-of-contents__link toc-highlight">Install</a><ul><li><a href="#with-npm" class="table-of-contents__link toc-highlight">With NPM</a></li><li><a href="#in-browser" class="table-of-contents__link toc-highlight">In Browser</a></li></ul></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#api" class="table-of-contents__link toc-highlight">API</a></li><li><a href="#tips" class="table-of-contents__link toc-highlight">Tips</a></li><li><a href="#evajs-无障碍插件动画" class="table-of-contents__link toc-highlight">Eva.js 无障碍插件动画</a><ul><li><a href="#option1" class="table-of-contents__link toc-highlight">Option1</a></li><li><a href="#option2" class="table-of-contents__link toc-highlight">Option2</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Eva.js 2019 - NOW  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  MIT License</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c3d05a5e.js"></script>
<script src="/assets/js/main.0c2761a9.js"></script>
</body>
</html>