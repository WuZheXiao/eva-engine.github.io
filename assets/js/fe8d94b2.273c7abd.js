"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[47499],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=s(n),m=a,h=c["".concat(p,".").concat(m)]||c[m]||d[m]||l;return n?r.createElement(h,i(i({ref:t},u),{},{components:n})):r.createElement(h,i({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var s=2;s<l;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},24620:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return p},metadata:function(){return s},toc:function(){return u},default:function(){return c}});var r=n(87462),a=n(63366),l=(n(67294),n(3905)),i=["components"],o={},p="Interactive event",s={unversionedId:"tutorials/interactionEvent",id:"tutorials/interactionEvent",isDocsHomePage:!1,title:"Interactive event",description:"Demo",source:"@site/docs/tutorials/interactionEvent.md",sourceDirName:"tutorials",slug:"/tutorials/interactionEvent",permalink:"/docs/tutorials/interactionEvent",editUrl:"https://github.com/eva-engine/eva-engine.github.io/tree/master/docs/tutorials/interactionEvent.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Lottie Animation",permalink:"/docs/tutorials/lottieAnimation"},next:{title:"Custom component",permalink:"/docs/tutorials/customComponent"}},u=[{value:"Demo",id:"demo",children:[],level:2},{value:"Install",id:"install",children:[{value:"With NPM",id:"with-npm",children:[],level:3},{value:"In Browser",id:"in-browser",children:[],level:3}],level:2},{value:"System",id:"system",children:[{value:"moveWhenInside <code>boolean</code> <code>optional</code>",id:"movewheninside-boolean-optional",children:[],level:3}],level:2},{value:"Options",id:"options",children:[{value:"hitArea <code>object</code> <code>optional</code>",id:"hitarea-object-optional",children:[],level:3}],level:2},{value:"Method",id:"method",children:[{value:"on (eventName, listener)",id:"on-eventname-listener",children:[],level:3},{value:"off (eventName, listener)",id:"off-eventname-listener",children:[],level:3},{value:"emit (eventName, ...args)",id:"emit-eventname-args",children:[],level:3},{value:"once (eventName, listener)",id:"once-eventname-listener",children:[],level:3}],level:2},{value:"Instance Event&#39;s Arguments",id:"instance-events-arguments",children:[],level:2}],d={toc:u};function c(e){var t=e.components,n=(0,a.Z)(e,i);return(0,l.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"interactive-event"},"Interactive event"),(0,l.kt)("h2",{id:"demo"},"Demo"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://eva.js.org/playground/#/event"},"https://eva.js.org/playground/#/event")),(0,l.kt)("h2",{id:"install"},"Install"),(0,l.kt)("h3",{id:"with-npm"},"With NPM"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm i @eva/plugin-renderer @eva/plugin-renderer-event\n")),(0,l.kt)("h3",{id:"in-browser"},"In Browser"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'<script src="https://unpkg.com/@eva/plugin-renderer-event@1.1.x/dist/EVA.plugin.renderer.event.min.js"><\/script>\n')),(0,l.kt)("h2",{id:"system"},"System"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"import { EventSystem } from '@eva/plugin-renderer-event'\n")),(0,l.kt)("h3",{id:"movewheninside-boolean-optional"},"moveWhenInside ",(0,l.kt)("inlineCode",{parentName:"h3"},"boolean")," ",(0,l.kt)("inlineCode",{parentName:"h3"},"optional")),(0,l.kt)("p",null,"Touchmove will also be triggered if it is not inside the gameObject, default is false."),(0,l.kt)("h2",{id:"options"},"Options"),(0,l.kt)("h3",{id:"hitarea-object-optional"},"hitArea ",(0,l.kt)("inlineCode",{parentName:"h3"},"object")," ",(0,l.kt)("inlineCode",{parentName:"h3"},"optional")),(0,l.kt)("p",null,"Click the hot zone, the response area of \u200b\u200bthe picture with transparency is the rectangular area of \u200b\u200bthe entire GameObject, so the response area can be set through the hitArea property.\nThe attribute value of the hitArea area is relative to the rectangular area of \u200b\u200bthe GameObject.\nNormally, there is no need to set hitArea."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"Type")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"Attribute")))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Circle"),(0,l.kt)("td",{parentName:"tr",align:null},"HIT_AREA_TYPE.Circle"),(0,l.kt)("td",{parentName:"tr",align:null},"{style: {x,y,radius}}")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Ellipse"),(0,l.kt)("td",{parentName:"tr",align:null},"HIT_AREA_TYPE.Ellipse"),(0,l.kt)("td",{parentName:"tr",align:null},"{style:{x,y,width,height}}")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Rectangle"),(0,l.kt)("td",{parentName:"tr",align:null},"HIT_AREA_TYPE.Rect"),(0,l.kt)("td",{parentName:"tr",align:null},"{style:{x,y,width,height}}")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Rounded rectangle"),(0,l.kt)("td",{parentName:"tr",align:null},"HIT_AREA_TYPE.RoundedRect"),(0,l.kt)("td",{parentName:"tr",align:null},"{style:{x,y,width,height,radius}}")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Polygon"),(0,l.kt)("td",{parentName:"tr",align:null},"HIT_AREA_TYPE.Polygon"),(0,l.kt)("td",{parentName:"tr",align:null},"{style: {paths: ","[x,y,x,y,x,y]","}} or {style: {paths: ","[{x,y},{x,y},{x ,y}]","}}")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"\nimport {Event, EventSystem, HIT_AREA_TYPE} from '@eva/plugin-renderer-event'\n\ngame.addSystem(new EventSystem({\n  moveWhenInside: true // default is false\n}))\n\nconst evt = image.addComponent(\n  new Event({\n    hitArea: {\n      type: HIT_AREA_TYPE.Polygon,\n      style: {\n        paths: [107, 49, 148, 24, 172, 28, 198, 77, 189, 106, 123, 198, 71, 180, 10, 80, 34, 32, 90, 37]\n      }\n    }\n  })\n)\n")),(0,l.kt)("h2",{id:"method"},"Method"),(0,l.kt)("p",null,"Event Component is used to support the event binding of Entity, the events are"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Event name"),(0,l.kt)("th",{parentName:"tr",align:null},"Event type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"tap"),(0,l.kt)("td",{parentName:"tr",align:null},"Click, if touchstart and touchend are both on the current gameObject, it will be triggered, if you don\u2019t need it, you can add e.stopPropagation() to touchend according to certain conditions")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"touchstart"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"touchmove"),(0,l.kt)("td",{parentName:"tr",align:null},"Move will also trigger if it is not on the current object, very strange")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"touchend"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"touchendoutside"),(0,l.kt)("td",{parentName:"tr",align:null},"When touchend, when touch is no longer on the object, it will trigger")))),(0,l.kt)("h3",{id:"on-eventname-listener"},"on (eventName, listener)"),(0,l.kt)("p",null,"Listen for events"),(0,l.kt)("h3",{id:"off-eventname-listener"},"off (eventName, listener)"),(0,l.kt)("p",null,"Remove monitor"),(0,l.kt)("h3",{id:"emit-eventname-args"},"emit (eventName, ...args)"),(0,l.kt)("p",null,"trigger event"),(0,l.kt)("h3",{id:"once-eventname-listener"},"once (eventName, listener)"),(0,l.kt)("p",null,"Listen for one-time events"),(0,l.kt)("h2",{id:"instance-events-arguments"},"Instance Event's Arguments"),(0,l.kt)("p",null,"Parameters of the listener function"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"{\n  data:{\n    pointerId: number,\n    position: {x, y}\n  },\n  stopPropagation: ()=>{},\n  gameObject: gameObject\n}\n")),(0,l.kt)("p",null,"Prevent events from bubbling up"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"event.stopPropagation()\n")))}c.isMDXComponent=!0}}]);